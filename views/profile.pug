doctype html
head
    meta(charset='utf-8')
    meta(name='viewport' content='width=device-width, initial-scale=1')
    title E-Portfolio | #{user1.first_name} #{user1.last_name}
    meta(name='description' content='')
    meta(name='author' content='')
    //
      Favicons
      ==================================================
    link(rel='shortcut icon' href='/img/favicon1.ico' type='image/x-icon')
    link(rel='apple-touch-icon' href='/img/apple-touch-icon.png')
    link(rel='apple-touch-icon' sizes='72x72' href='/img/apple-touch-icon-72x72.png')
    link(rel='apple-touch-icon' sizes='114x114' href='/img/apple-touch-icon-114x114.png')
    // icons
    link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css')
    // Bootstrap
    link(rel='stylesheet' type='text/css' href='/css/bootstrap.css')
    link(rel='stylesheet' type='text/css' href='/fonts/font-awesome/css/font-awesome.css')
    //
      Stylesheet
      ==================================================

    link(rel='stylesheet' type='text/css' href='/css/typewriter.css')
    link(rel='stylesheet' type='text/css' href='/css/index.css')
    link(rel='stylesheet' type='text/css' href='/css/prettyPhoto.css')
    link(href='http://fonts.googleapis.com/css?family=Lato:400,700,900,300' rel='stylesheet' type='text/css')
    link(href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,800,600,300' rel='stylesheet' type='text/css')
    script(type='text/javascript' src='js/modernizr.custom.js')

    // linkedIn share api
    script(src='https://platform.linkedin.com/in.js' type='text/javascript')
    // HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries
    // WARNING: Respond.js doesn't work if you view the page via file://
    //if lt IE 9
      script(src='https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js')
      script(src='https://oss.maxcdn.com/respond/1.4.2/respond.min.js')
// Header
header#header.d-flex.flex-column.justify-content-center
    nav.nav-menu
        ul.nav
            // Hidden li included to remove active class from about link when scrolled up past about section
            li.active
                a.page-scroll(href='#hero').text-center
                    i.fa.fa-home.navbar-icons
                        span Home
            li
                a.page-scroll(href='#about').text-center 
                    i.fa.fa-user.navbar-icons
                        span About
            li
                a.page-scroll(href='#skills').text-center
                    i.fa.fa-rocket.navbar-icons
                        span skills
            li
                a.page-scroll(href='#portfolio').text-center 
                    i.fa.fa-suitcase.navbar-icons
                        span Portfolio
            li
                a.page-scroll(href='#experience').text-center  
                    i.fa.fa-fire.navbar-icons
                        span Experience
            li
                a.page-scroll(href='#education').text-center
                    i.fa.fa-graduation-cap.navbar-icons
                        span Education
            li
                a.page-scroll(href='#contact').text-center
                    i.fa.fa-address-card.navbar-icons
                        span Contact


#hero.d-flex.flex-column.justify-content-center
    .intro
        if user1.backgroundPicID
            img.background(src='http://localhost:3000/user/image/' + user1.backgroundPicID.filename alt='no_image')
        if !user1.backgroundPicID
            img.background(src='/img/profolio-tight.png' alt='no_image')
        .container
            .row#homescreen
                .intro-text
                    h1.title
                        | Hello, I&apos;m
                        span.name  #{user1.first_name}

                    p
                        |I'm a
                        span.txt-rotate(data-period='1000' data-rotate='[ " Designer.", " Developer.", " Typewriter!" ]')
                    

                    a.btn.btn-default.btn-lg.page-scroll(href='#about') Learn More
                    br
                    br
                    a.btn.btn-default.btn-lg.page-scroll(type='button' data-toggle='modal' data-target='#homeModal')
                        |Edit Home Page

#nav
    nav.navbar.navbar-custom
        .container
            .navbar-header
                button.navbar-toggle(type='button' data-toggle='collapse' data-target='.navbar-main-collapse')
                    i.fa.fa-bars
                img(src="https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png", alt="", width = "50vh")
                a.navbar-brand.page-scroll(href='#page-top') #{user1.first_name} #{user1.last_name}
            // Collect the nav links, forms, and other content for toggling
            .collapse.navbar-collapse.navbar-right.navbar-main-collapse
                ul.nav.navbar-nav
                    li.topnavbar
                        // if user change this to edit..
                        a.btn(href='/user/logout') Logout
                    li.topnavbar
                        a.button.btn(type='button' data-toggle='modal' data-target='#contactModal') Edit Account Details



// About Section
#about
    .container
        .section-title.text-center.center
            h2 About Me
            hr
        .row
            .col-md-12.text-center
                if user1.profilePicID
                    img.img-responsive(src='http://localhost:3000/user/image/'+ user1.profilePicID.filename)
                if !user1.profilePicID
                    img.img-responsive(src='' alt='No Profile Picture')
            .col-md-8.col-md-offset-2
                .about-text
                    p
                        | #{user1.bio}
                    .text-center
                        p.text-center
                        button.btn.btn-primary(type='button' data-toggle='modal' data-target='#bioModal')
                            | Edit About Me
                    br
                    br
                    .text-center
                        if user1.resumeID
                            a.btn.btn-primary(href='http://localhost:3000/user/resume/'+user1.resumeID.filename+'?iframe=true&width=1000&height=1000' title= 'Resume' rel='prettyPhoto')
                                i.fa.fa-download
                                |  View Resume
// Skills Section
#skills.text-center
    .container
        .section-title.center
            h2 Skills
            hr
        .row
            .col-md-4.col-sm-6.skill
                span.chart(data-percent='95')
                    span.percent 95
                h4 HTML5
            .col-md-4.col-sm-6.skill
                span.chart(data-percent='85')
                    span.percent 85
                h4 CSS3
            .col-md-4.col-sm-6.skill
                span.chart(data-percent='80')
                    span.percent 80
                h4 jQuery
            .col-md-4.col-sm-6.skill
                span.chart(data-percent='80')
                    span.percent 80
                h4 WordPress
            .col-md-4.col-sm-6.skill
                span.chart(data-percent='70')
                    span.percent 70
                h4 Photoshop
            .col-md-4.col-sm-6.skill
                span.chart(data-percent='65')
                    span.percent 65
                h4 Illustrator
// Portfolio Section
#portfolio
    .container
        .section-title.text-center.center
            h2 Portfolio
            //embed(src='http://localhost:3000/user/document/'+user1.document[0].filename type='application/pdf' width='200' height='400')
            button.btn.btn-primary(type='button' data-toggle='modal' data-target='#portfolioModal')
                |Add Portfolio Item
            button.btn.btn-primary(type='button' data-toggle='modal' data-target='#editPortfolioModal')
                | Edit Portfolio
            br
            br
            hr
            .clearfix
        .row
            .portfolio-items
                for doc in user1.document
                    .col-sm-6.col-md-3.col-lg-3.web
                        .portfolio-item
                            .hover-bg
                                a(href='http://localhost:3000/user/document/'+doc.filename+'?iframe=true&width=1000&height=1000' title=doc.filename rel='prettyPhoto')
                                    .hover-text
                                        h4 #{doc.title}
                                        small #{doc.subHead}
                                    embed(src='http://localhost:3000/user/document/'+doc.filename + '#toolbar=0&navpanes=0&scrollbar=0' type='application/pdf' width='270' height='300')

// Resume Section
#experience.text-center
    .container
        .section-title.center
            h2 Experience
            
            br
            br
            hr
        .row
            .col-lg-12
                ul.timeline
                    for c in user1.experience
                        li
                            .timeline-image
                                h4
                                    span.dateSize #{moment(c.experienceStartDate).format('LL')}
                                    |
                                    br
                                    .dateSize                 To
                                    span.dateSize #{moment(c.experienceEndDate).format('LL')}
                            .timeline-panel
                                .timeline-heading
                                    h4
                                        span #{c.company}
                                    h4.subheading
                                        span #{c.role}
                                .timeline-body
                                    p
                                        | INSERT YOUR DESCRIPTION HERE !
                                    br
                                    a.btn.btn-primary(type='button' data-toggle='modal' data-target='#experienceModal')
                                        | Edit Experience
                        
                        #experienceModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='experienceModalLabel' aria-hidden='true')
                                form(method='POST' action='/user/editExperience/'+ c._id)
                                    .modal-dialog.modal-dialog-centered.modal-lg(role='document')
                                        .modal-content
                                            .modal-header
                                                h5#experienceModalLabel.modal-title Edit Experience
                                                button.close(type='button' data-dismiss='modal' aria-label='Close')
                                                    span(aria-hidden='true') &times;
                                            .modal-body
                                                input#companyName.form-control(name= "company" type='text' placeholder='companyName' autofocus='' required='isRequired' value=c.company)
                                                label(for='companyName') Company
                                                br
                                                input#roleName.form-control(name= "role" type='text' placeholder='roleName' autofocus='' required='isRequired' value=c.role)
                                                label(for='roleName') Role Title
                                                br
                                                label(for='startDate') Start date: NEED TO FIX
                                                br
                                                input#startDate(name= "experienceStartDate" type='month' required='isRequired' value=c.experienceStartDate) 
                                                br
                                                label(for='endDate') End date: NEED TO FIX
                                                br
                                                input#endDate(name= "experienceEndDate" type='month' required='isRequired' value=c.experienceEndDate)

                                            .modal-footer
                                                button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                                                button.btn.btn-secondary.edit-experience(type='submit' experience-id=c._id) Save changes

// Education section                   
#education.text-center
    .container
        .section-title.center
            h2 Education
            br
            br
            hr
        .row
            .col-lg-12
                ul.timeline
                    for c in user1.education
                        li.timeline-inverted
                            .timeline-image
                                h4
                                    span.dateSize #{moment(c.educationStartDate).format('LL')}
                                    |
                                    br
                                    .dateSize                 To
                                    span.dateSize #{moment(c.educationEndDate).format('LL')}
                            .timeline-panel
                                .timeline-heading
                                    h4
                                        span #{c.university}
                                    h4.subheading
                                        span #{c.degree}
                                .timeline-body
                                    p
                                        | INSERT YOUR DESCRIPTION HERE !
                                    br
                                    button.btn.btn-primary(type='button' data-toggle='modal' data-target='#educationModal')
                                        | Edit Education

                        #educationModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='educationModalLabel' aria-hidden='true')
                            form(method='POST' action='/user/editEducation/' + c._id)
                                .modal-dialog.modal-dialog-centered.modal-lg(role='document')
                                    .modal-content
                                        .modal-header
                                            h5#educationModalLabel.modal-title Edit Education
                                            button.close(type='button' data-dismiss='modal' aria-label='Close')
                                                span(aria-hidden='true') &times;
                                        .modal-body
                                            input#universityName.form-control(name= "university" type='text' placeholder='companyName' autofocus='' required='isRequired' value = c.university)
                                            label(for='universityName') University
                                            br
                                            input#degree.form-control(name= "degree" type='text' placeholder='roleName' autofocus='' required='isRequired' value = c.degree)
                                            label(for='degree') Degree
                                            br
                                            br
                                            label(for='uniStartDate') Start date:
                                            input#uniStartDate(name= "educationStartDate" type='month' required='isRequired' value = c.educationStartDate)
                                            br
                                            br
                                            label(for='uniEndDate') Start date:
                                            input#uniStartDate(name= "educationEndDate" type='month' required='isRequired' value = c.educationEndDate)
                                        .modal-footer
                                            button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                                            button.btn.btn-secondary.edit-education(type='submit') Save changes
               
// Contact Section
#contact.text-center
    .container
        .section-title.center
            h2 Contact
            br
            br
            hr
        .col-md-8.col-md-offset-2
            .col-md-4
                i.fa.fa-map-marker.fa-2x
                p #{user1.city}, #{user1.state}
            .col-md-4
                i.fa.fa-envelope-o.fa-2x
                p #{user1.email}
            .col-md-4
                i.fa.fa-phone.fa-2x
                p  #{user1.phone}
            .clearfix
        .col-md-8.col-md-offset-2
            h3 Leave me a message

            .social
                ul
                    li
                        a(href='#')
                            i.fa.fa-facebook
                    li
                        a(href='#')
                            i.fa.fa-twitter
                    li
                        a(href='#')
                            i.fa.fa-github
                    li
                        a(href='#')
                            i.fa.fa-instagram
                    li
                        a(href='#')
                            i.fa.fa-linkedin
                    
#footer
    .container.text-center
        .fnav
            p
                | Tessagon
        .social
             ul
                li
                    iframe#down(src='https://www.facebook.com/plugins/share_button.php?href=https://tessagon-e-portfolio.herokuapp.com/user/profile/'+ user1.username + '%2F&layout=button&size=small&width=67&height=20&appId'  width='77' height='28' style='border:none;overflow:hidden' scrolling='no' frameborder='0' allowtransparency='true' allow='encrypted-media')
                    script(type='IN/Share' data-url='https://tessagon-e-portfolio.herokuapp.com/user/profile/'+ user1.username)
        


script(type='text/javascript' src='/js/jquery.1.11.1.js')
script(type='text/javascript' src='/js/bootstrap.js')
script(type='text/javascript' src='/js/SmoothScroll.js')
script(type='text/javascript' src='/js/easypiechart.js')
script(type='text/javascript' src='/js/jquery.prettyPhoto.js')
script(type='text/javascript' src='/js/jquery.isotope.js')
script(type='text/javascript' src='/js/jquery.counterup.js')
script(type='text/javascript' src='/js/waypoints.js')
script(type='text/javascript' src='/js/jqBootstrapValidation.js')
script(type='text/javascript' src='/js/contact_me.js')
script(type='text/javascript' src='/js/main.js')
script(type='text/javascript' src='/js/typewriter.js')

#portfolioModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='portfolioModalLabel' aria-hidden='true')
    form(method='POST' action='/user/upload' enctype="multipart/form-data").form-signin
        .modal-dialog.modal-dialog-centered.modal-lg(role='document')
            .modal-content
                .modal-header
                    h5#portfolioModalLabel.modal-title Edit Bio
                    button.close(type='button' data-dismiss='modal' aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                    label(for='uploadDocuments') Document Title
                    input.form-control-file(name='title' type='text' placeholder='Title' autofocus='' required='isRequired')
                    label(for='uploadDocuments') Document Subheading
                    input.form-control-file.padLeft(name='subHead' type='text' placeholder='Sub-Heading' autofocus='' required='isRequired')
                    label(for='uploadDocuments') Upload a document
                    input#uploadDocuments.form-control-file(name='file' type='file' required='isRequired' accept="application/pdf")
                .modal-footer
                    button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                    button.btn.btn-secondary(type ='submit') Upload file

#editPortfolioModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='portfolioModalLabel' aria-hidden='true')
    .modal-dialog.modal-dialog-centered.modal-lg(role='document')
        .modal-content
            .modal-header
                h5#editPortfolioModalLabel.modal-title Edit Portfolio
                button.close(type='button' data-dismiss='modal' aria-label='Close')
                    span(aria-hidden='true') &times;
            .modal-body
                for doc_name in user1.document
                    h3 #{doc_name.title} - #{doc_name.subHead}
                    button.btn.btn-secondary.delete-document(type ='button', document-id=doc_name._id) Remove
                    hr
            .modal-footer
                button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                button.btn.btn-secondary(type ='submit') Save changes

#bioModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='bioModalLabel' aria-hidden='true')
    form(method='POST' action='/user/editAboutMe' enctype="multipart/form-data")
        .modal-dialog.modal-dialog-centered.modal-lg(role='document')
            .modal-content
                .modal-header
                    h5#bioModalLabel.modal-title Edit Bio
                    button.close(type='button' data-dismiss='modal' aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                    input#AboutMe.form-control(name="bio" type='text' autofocus='' maxlength='500' required='isRequired' value = user1.bio)
                    label(for='AboutMe') Tell me about yourself! Max 500 characters.
                    br
                    label(for='editResume') Edit your resume!
                    input#editResume.form-control-file(name='resume' type='file' accept="application/pdf")
                    label(for='editProfilePic') Edit your profile picture!
                    input#editProfilePic.form-control-file(name='propic' type='file')
                .modal-footer
                    button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                    button.btn.btn-secondary(type='submit') Save changes            

#contactModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='contactModalLabel' aria-hidden='true')
    form(method='POST' action='/user/editNavInfo')
        .modal-dialog.modal-dialog-centered.modal-lg(role='document')
            .modal-content
                .modal-header
                    h5#contactModalLabel.modal-title Edit Bio
                    button.close(type='button' data-dismiss='modal' aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                    input#contactNumber.form-control(name="phone_number" type='tel' placeholder='phone' autofocus='' pattern='[0-9]{4} [0-9]{3} [0-9]{3}' required='isRequired' value = user1.phone_number)
                    label(for='contactNumber') Contact number (E.g 0412 345 678)
                    br
                    input#inputCity.form-control(name="city" type='text' placeholder='City' autofocus='' required='isRequired' value = user1.city)
                    label(for='inputCity') City
                    br
                    input#inputState.form-control(name="state" type='text' placeholder='State' autofocus='' required='isRequired' value.user1.state)
                    label(for='inputState') State
                    br
                    input#inputEmail.form-control(name='email' type='email' placeholder='Email address' required='' value = user1.email)
                    label(for='inputEmail') Email address

                .modal-footer
                    button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                    button.btn.btn-secondary(type='submit') Save changes


#homeModal.modal.fade(tabindex='-1' role='dialog' aria-labelledby='homeModalLabel' aria-hidden='true')
    form(method='POST' action='/user/editHomeInfo' enctype="multipart/form-data")
        .modal-dialog.modal-dialog-centered.modal-lg(role='document')
            .modal-content
                .modal-header
                    h5#homeModalLabel.modal-title Edit Home Page
                    button.close(type='button' data-dismiss='modal' aria-label='Close')
                        span(aria-hidden='true') &times;
                .modal-body
                    input#inputFirstname.form-control(name="first_name" type='text' autofocus='' required='isRequired' value = user1.first_name)
                    label(for='inputFirstname') First Name
                    br
                    input#inputSurname.form-control(name="last_name" type='text' autofocus='' required='isRequired' value = user1.last_name)
                    label(for='inputSurname') Last Name
                    br
                    br
                    input#editBackgroundPic.form-control-file(name='background' type='file')
                    label(for='editBackgroundPic') Edit your background picture!
                .modal-footer
                    button.btn.btn-secondary(type='button' data-dismiss='modal') Close
                    button.btn.btn-secondary(type='submit') Save changes